<!DOCTYPE html>
<!-- saved from url=(0071)file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billing Data Comparison</title>
    <script src="./Billing Data Comparison_files/chart.js.download"></script>
	<!-- Favicon -->
  <link rel="shortcut icon" href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/img/svg/logo.svg" type="image/x-icon">
  <!-- Custom styles -->
  <link rel="stylesheet" href="./Billing Data Comparison_files/style.min.css">
  <style>
    .progress-container {
        width: 100%;
        border-radius: 20px;
        padding: 10px;
        /*box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);*/
    }

    .progress-bar {
        width: 0%;
        height: 100%;
        background-color: #4caf50;
        border-radius: 25px;
        padding: 15px;
        transition: width 0.5s ease;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
    }

    .status-text {
        text-align: center;
        margin-top: 10px;
        font-size: 1.1em;
        color: #767676;
;
    }

    select, button {
            padding: 8px;
            margin: 5px;
            font-size: 16px;
        }
        select {
            background-color: rgba(32, 178, 170, 0.2); /* Lighter version of LightSeaGreen */
            border: 1px solid #20B2AA;
            border-radius: 5px;
        }
        button{
          background-color: rgba(32, 178, 170, 0.2); /* Lighter version of LightSeaGreen */
            border: 1px solid #20B2AA;
            border-radius: 5px;
        }
</style>
</head>
<body class="">


  <div class="layer"></div>
  <!-- ! Body -->
  <a class="skip-link sr-only" href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html#skip-target">Skip to content</a>
  <div class="page-flex">
  
  
    <!-- ! Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-start">
          <div class="sidebar-head">
              <span class="sidebar-user-img">	
    <picture><source srcset="./img/svg/images.png" type="image/webp"><img src="./Billing Data Comparison_files/images.png" alt="User name"></picture>
    </span>
              <a href="file:///C:/" class="logo-wrapper" title="Home">
                  <span class="sr-only">Home</span>
                  <span class="icon" aria-hidden="true"></span>
                  <div class="logo-text">
                      <span class="logo-title">COMCAST</span>
                      <span class="logo-subtitle">Dashboard</span>
                  </div>
              </a>
              <button class="sidebar-toggle transparent-btn" title="Menu" type="button">
                  <span class="sr-only">Toggle menu</span>
                  <span class="icon menu-toggle" aria-hidden="true"></span>
              </button>
          </div>
          <div class="sidebar-body">
              <ul class="sidebar-body-menu">
                
                  <li>
                      <a class="active" href="file:///C:/"><span class="icon home" aria-hidden="true"></span>BILL RUN Statistics</a>
                  </li>
                  <li>
           </li><li>
                      <a class="show-cat-btn" href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##">
                          <span class="icon folder" aria-hidden="true"></span>Categories
                          <span class="category__btn transparent-btn" title="Open list">
                              <span class="sr-only">Open list</span>
                              <span class="icon arrow-down" aria-hidden="true"></span>
                          </span>
                      </a>
                      <ul class="cat-sub-menu">
                          <li>
                              <a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/APPLY_ALLOCATE.html">Apply Allocate</a>
                          </li>
              <li>
                              <a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/Invoice_Printing.html">Invoice_Printing</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                      <a class="show-cat-btn" href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##">
                          <span class="icon user-3" aria-hidden="true"></span>Users
                          <span class="category__btn transparent-btn" title="Open list">
                              <span class="sr-only">Open list</span>
                              <span class="icon arrow-down" aria-hidden="true"></span>
                          </span>
                      </a>
                      <ul class="cat-sub-menu">
                          <li>
                              <a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/users-01.html">Users-01</a>
                          </li>
                          <li>
                              <a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/users-02.html">Users-02</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                      <a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##"><span class="icon setting" aria-hidden="true"></span>Settings</a>
                  </li>
              </ul>
          </div>
      </div>
      <div class="sidebar-footer">
          <a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##" class="sidebar-user">
              <span class="sidebar-user-img">
                  <picture><source srcset="./img/avatar/avatar-illustrated-02.webp" type="image/webp"><img src="./Billing Data Comparison_files/avatar-illustrated-02.png" alt="User name"></picture>
              </span>
              <div class="sidebar-user-info">
                  <span class="sidebar-user__title">Aravinth</span>
                  <span class="sidebar-user__subtitle">Support manager</span>
              </div>
          </a>
      </div>
  </aside>
  
  
    <div class="main-wrapper">
      <!-- ! Main nav -->
  
      <nav class="main-nav--bg">
    <div class="container main-nav">
      <div class="main-nav-start">
        <div class="search-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search" aria-hidden="true"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
          <input type="text" placeholder="Enter keywords ..." required="">
        </div>
      </div>
      <div class="main-nav-end">
        <button class="sidebar-toggle transparent-btn" title="Menu" type="button">
          <span class="sr-only">Toggle menu</span>
          <span class="icon menu-toggle--gray" aria-hidden="true"></span>
        </button>
        
        <div class="lang-switcher-wrapper">
          <button class="lang-switcher transparent-btn" id="selected-date">15-mar-2025 <i data-feather="chevron-down" aria-hidden="true"></i></button>
          <ul class="lang-menu dropdown" id="date-list"><li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html#">15-mar-2025</a></li><li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html#">01-mar-2025</a></li><li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html#">15-feb-2025</a></li><li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html#">01-feb-2025</a></li></ul>
      </div>
  
  
      
        <button class="theme-switcher gray-circle-btn" type="button" title="Switch theme">
          <span class="sr-only">Switch theme</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun sun-icon" aria-hidden="true"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon moon-icon" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
        </button>
        <div class="nav-user-wrapper">
          <button href="##" class="nav-user-btn dropdown-btn" title="My profile" type="button">
            <span class="sr-only">My profile</span>
            <span class="nav-user-img">
              <picture><source srcset="./img/avatar/avatar-illustrated-02.webp" type="image/webp"><img src="./Billing Data Comparison_files/avatar-illustrated-02.png" alt="User name"></picture>
            </span>
          </button>
          <ul class="users-item-dropdown nav-user-dropdown dropdown">
            <li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user" aria-hidden="true"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                <span>Profile</span>
              </a></li>
            <li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings" aria-hidden="true"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                <span>Account settings</span>
              </a></li>
            <li><a class="danger" href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out" aria-hidden="true"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                <span>Log out</span>
              </a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
  
      <!-- ! Main -->
  
      <main class="main users chart-page" id="skip-target">
        <div class="container">
          <h2 class="main-title">Dashboard</h2>
          <div class="row stat-cards">
            <div class="col-md-6 col-xl-3">
              <article class="stat-cards-item">
                <div class="stat-cards-icon primary">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bar-chart-2" aria-hidden="true"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
                </div>
                <div class="stat-cards-info" id="content">
                  <p class="stat-cards-info__num" id="total">Total: 5000</p>
                  <p class="stat-cards-info__title">Total CUSTOMERS</p>
                  <p class="stat-cards-info__progress">
                    <span class="stat-cards-info__profit success">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trending-up" aria-hidden="true"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>0.67%
                    </span>
                    Last month
                  </p>
                </div>
              </article>
            </div>
            <div class="col-md-6 col-xl-3">
              <article class="stat-cards-item">
                <div class="stat-cards-icon success">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file" aria-hidden="true"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                </div>
                <div class="stat-cards-info">
                  <p class="stat-cards-info__num" id="revenue">Revenue: $1,200,000</p>
                  <p class="stat-cards-info__title">Total REVENUE</p>
                  <p class="stat-cards-info__progress">
                    <span class="stat-cards-info__profit success">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trending-up" aria-hidden="true"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>0.24%
                    </span>
                    Last month
                  </p>
                </div>
              </article>
            </div>
            <div class="col-md-6 col-xl-3">
              <article class="stat-cards-item">
                <div class="stat-cards-icon purple">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file" aria-hidden="true"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                </div>
                <div class="stat-cards-info">
                  <p class="stat-cards-info__num" id="success">Success: 4900</p>
                  <p class="stat-cards-info__title">SUCCESS</p>
                  <p class="stat-cards-info__progress">
                    <span class="stat-cards-info__profit success">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trending-up" aria-hidden="true"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>0.67%
                    </span>
                    Last month
                  </p>
                </div>
              </article>
            </div>
            <div class="col-md-6 col-xl-3">
              <article class="stat-cards-item">
                <div class="stat-cards-icon warning">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-feather" aria-hidden="true"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg>
                </div>
                <div class="stat-cards-info">
                  <p class="stat-cards-info__num" id="error">Error: 100 Failed</p>
                  <p class="stat-cards-info__title">ERROR CUSTOMERS</p>
                  <p class="stat-cards-info__progress">
                    <span class="stat-cards-info__profit warning">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trending-up" aria-hidden="true"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>0.00%
                    </span>
                    Last month
                  </p>
                </div>
              </article>
            </div>
          </div>
          </div>
  
          <div class="container">
          <div class="row">
            <div class="col-lg-8">
             
        

          <article class="white-block" style="height: 90px;">
            <p class="stat-cards-info__num" id="BILL_ID">BILL_RUN_ID: 812345 completed</p>
        <class="status-text" id="status-text">CURRENT BILL RUN - INVOICE GENERATION: Completed</class="status-text"></article>
        <div class="progress-container">
        <div class="progress-bar" id="progress-bar" style="width: 100%; background-color: rgb(76, 175, 80);">100%</div>
            </div>

            <div class="chart">
                <article class="white-block"><canvas id="billingChart" width="1400" height="700" style="display: block; box-sizing: border-box; height: 350px; width: 700px;"></canvas></article> 
            </div>
  
        </div>
    
            
      <div class="col-lg-4">
        <article class="white-block">
          <p class="stat-cards-info__num" for="billingDate1">BILL RUN COMPARISON
          </p><div class="lang-switcher-wrapper">
            <select id="billingDate1" class="stat-cards-info__num" onchange="refreshTable()" style="width: 45%;"><option value="15-JAN-2025">15-JAN-2025</option><option value="15-FEB-2025">15-FEB-2025</option><option value="15-MAR-2025">15-MAR-2025</option><option value="15-APR-2025">15-APR-2025</option><option value="15-MAY-2025">15-MAY-2025</option></select>
            <select id="billingDate2" class="stat-cards-info__num" onchange="refreshTable()" style="width: 45%;"><option value="15-JAN-2025">15-JAN-2025</option><option value="15-FEB-2025">15-FEB-2025</option><option value="15-MAR-2025">15-MAR-2025</option><option value="15-APR-2025">15-APR-2025</option><option value="15-MAY-2025">15-MAY-2025</option></select>
            <button class="stat-cards-info__num" onclick="downloadCSV()" style="width: 94%;">DOWNLOAD .CSV ↓</button>
          </div>
                      

                             <table class="posts-table" style="height: 500px;">
              <thead>
                  <tr>
                      <th>Hour</th>
                      <th><span id="selectedDate1">15-JAN-2025</span></th>
                      <th><span id="selectedDate2">15-FEB-2025</span></th>
                      <th>Difference</th>
                  </tr>
              </thead>
              <tbody id="tableContent"><tr>
                    <td>1</td>
                    <td>100</td>
                    <td>152</td>
                    <td>52</td>
                </tr><tr>
                    <td>2</td>
                    <td>3000</td>
                    <td>4011</td>
                    <td>1011</td>
                </tr><tr>
                    <td>3</td>
                    <td>11000</td>
                    <td>12156</td>
                    <td>1156</td>
                </tr><tr>
                    <td>4</td>
                    <td>20000</td>
                    <td>21695</td>
                    <td>1695</td>
                </tr><tr>
                    <td>5</td>
                    <td>19000</td>
                    <td>21212</td>
                    <td>2212</td>
                </tr><tr>
                    <td>6</td>
                    <td>21000</td>
                    <td>21862</td>
                    <td>862</td>
                </tr><tr class="total-row">
                <td>TOTAL</td>
                <td>74000</td>
                <td>81088</td>
                <td>7088</td>
            </tr></tbody>
          </table>
      </article>
            </div>
     </div></div>
    </main>
      <!-- ! Footer -->
      <footer class="footer">
    <div class="container footer--flex">
      <div class="footer-start">
        <p>2025 © Comcast Dashboard - <a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html#" target="_blank" rel="noopener noreferrer"></a></p>
      </div>
      <ul class="footer-end">
        <li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##">About</a></li>
        <li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##">Support</a></li>
        <li><a href="file:///C:/Users/aravinth.a.kannan/Desktop/COMCAST-DASHBOARD/test3.html##">Puchase</a></li>
      </ul>
    </div>
  </footer></div></div>
  <!-- Chart library -->
  <script src="./Billing Data Comparison_files/chart.min.js"></script>
  <!-- Icons library -->
  <script src="./Billing Data Comparison_files/feather.min.js"></script>
  <!-- Custom scripts -->   
    <script>
function toggleTheme() {
    document.body.classList.toggle("dark-mode");
}

const billingData = {
            "15-JAN-2025": [100, 3000, 11000, 20000, 19000, 21000, 74000],
            "15-FEB-2025": [152, 4011, 12156, 21695, 21212, 21862, 81088],
            "15-MAR-2025": [152, 4061, 12491, 21866, 21593, 21470, 81633],
            "15-APR-2025": [200, 4500, 13000, 22500, 22000, 23000, 85000],
            "15-MAY-2025": [250, 5000, 14000, 23000, 22500, 24000, 88000]
        };


function initializeDropdowns() {
    let dropdown1 = document.getElementById("billingDate1");
    let dropdown2 = document.getElementById("billingDate2");

    let dates = Object.keys(billingData);
    dropdown1.innerHTML = "";
    dropdown2.innerHTML = "";

    dates.forEach(date => {
        dropdown1.add(new Option(date, date));
        dropdown2.add(new Option(date, date));
    });

    if (dates.length > 1) {
        dropdown1.selectedIndex = 0;
        dropdown2.selectedIndex = 1;
    }

    refreshTable();
}

        function refreshTable() {
            let selectedDate1 = document.getElementById("billingDate1").value;
            let selectedDate2 = document.getElementById("billingDate2").value;
            if (selectedDate1 === selectedDate2) return;

            document.getElementById("selectedDate1").innerText = selectedDate1;
            document.getElementById("selectedDate2").innerText = selectedDate2;

            let tbody = document.getElementById("tableContent");
            tbody.innerHTML = "";
            let labels = [], data1 = [], data2 = [];

            for (let i = 0; i < billingData[selectedDate1].length - 1; i++) {
                let diff = billingData[selectedDate2][i] - billingData[selectedDate1][i];
                tbody.innerHTML += `<tr>
                    <td>${i + 1}</td>
                    <td>${billingData[selectedDate1][i]}</td>
                    <td>${billingData[selectedDate2][i]}</td>
                    <td>${diff}</td>
                </tr>`;
                labels.push(`Hour ${i + 1}`);
                data1.push(billingData[selectedDate1][i]);
                data2.push(billingData[selectedDate2][i]);
            }
            tbody.innerHTML += `<tr class="total-row">
                <td>TOTAL</td>
                <td>${billingData[selectedDate1][6]}</td>
                <td>${billingData[selectedDate2][6]}</td>
                <td>${billingData[selectedDate2][6] - billingData[selectedDate1][6]}</td>
            </tr>`;

            updateChart(labels, data1, data2, selectedDate1, selectedDate2);
        }

        function downloadCSV() {
            let csvContent = "Hours,First Date,Second Date,Difference\n";
            document.querySelectorAll("#tableContent tr").forEach(row => {
                csvContent += Array.from(row.children).map(cell => cell.innerText).join(",") + "\n";
            });

            let blob = new Blob([csvContent], { type: "text/csv" });
            let a = document.createElement("a");
            a.href = URL.createObjectURL(blob);
            a.download = "billing_data_comparison.csv";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

function updateChart(labels, data1, data2, label1, label2) {
    const ctx = document.getElementById("billingChart").getContext("2d");
    if (window.myChart) window.myChart.destroy();

    window.myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [
                { label: label1, data: data1, borderColor: '#8A2BE2', borderWidth: 2, tension: 0.4 },
                { label: label2, data: data2, borderColor: '#20B2AA', borderWidth: 2, tension: 0.4 }
            ]
        },
        options: {
            scales: {
                y: {
                    min: 0,
                    max: 30000,
                    ticks: { stepSize: 6000 },
                    grid: { display: false }
                },
                x: {
                    grid: { color: '' } // Replaced undefined variable 'gridLine'
                }
            },
            elements: {
                point: { radius: 2 }
            },
            plugins: {
                legend: {
                    position: 'top',
                    align: 'end',
                    labels: {
                        boxWidth: 8,
                        boxHeight: 8,
                        usePointStyle: true,
                        font: { size: 12, weight: '500' }
                    }
                },
                title: {
                    display: true,
                    text: ['BILL RUN statistics', 'CUSTOMER PROCESSED'],
                    align: 'start',
                    color: '',
                    font: { size: 16, family: 'Inter', weight: '600', lineHeight: 1.4 }
                }
            },
            tooltip: { // Changed from 'tooltips' to 'tooltip' (Chart.js v3+)
                mode: 'index',
                intersect: false
            },
            hover: {
                mode: 'nearest',
                intersect: true
            }
        }
    });
}

window.onload = initializeDropdowns;

      
function updateProgress(percentage) {
            const progressBar = document.getElementById('progress-bar');
            const statusText = document.getElementById('status-text');

            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';

            if (percentage === 100) {
                statusText.textContent = 'CURRENT BILL RUN - INVOICE GENERATION: Completed';
                progressBar.style.backgroundColor = '#4caf50';
            } else if (percentage > 0) {
                statusText.textContent = 'CURRENT BILL RUN - INVOICE GENERATION: In Progress';
                progressBar.style.backgroundColor = '#2196f3';
            } else {
                statusText.textContent = 'CURRENT BILL RUN - INVOICE GENERATION: Not Started';
                progressBar.style.backgroundColor = '#e0e0e0';
            }
        }

        // Example of dynamic progress update
        let progress = 0;
        const interval = setInterval(() => {
            if (progress <= 100) {
                updateProgress(progress);
                progress += 1;
            } else {
                clearInterval(interval);
            }
        }, 50);


    </script>
<script src="./Billing Data Comparison_files/script.js"></script>

</body></html>